<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns="http://www.w3.org/1999/xhtml">
    <head th:replace="~{layout/plantilla :: head}">
        <title>Tienda de Videojuegos</title>   
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 
    </head>
    <body>
        <header th:replace="~{layout/plantilla :: header}"/>

        <main>
            <section sec:authorize="hasRole('ADMIN')" class="mb-5">
                <div class="container">
                    <!-- Métricas rápidas -->
                    <h2 class="text-primary mb-4">Métricas rápidas</h2>
                    <div class="row text-center">
                        <div class="col-md-4">
                            <div class="card shadow-sm">
                                <div class="card-body">
                                    <h3 class="card-title text-success">Total de Ventas</h3>
                                    <p class="display-6 fw-bold">$5,250</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card shadow-sm">
                                <div class="card-body">
                                    <h3 class="card-title text-info">Productos en Inventario</h3>
                                    <p class="display-6 fw-bold">320</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card shadow-sm">
                                <div class="card-body">
                                    <h3 class="card-title text-primary">Usuarios Registrados</h3>
                                    <p class="display-6 fw-bold">1,200</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section sec:authorize="hasRole('ADMIN')" class="mb-5">
                <div class="container">
                    <!-- Productos con Bajo Inventario -->
                    <h2 class="text-primary mb-4">Productos con Bajo Inventario</h2>
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover">
                            <thead class="table-dark">
                                <tr>
                                    <th>Producto</th>
                                    <th>Stock</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Juego Aventura Épica</td>
                                    <td><span class="badge bg-danger">5</span></td>
                                    <td>
                                        <button class="btn btn-warning btn-sm">
                                            <i class="fas fa-sync"></i> Reabastecer
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Juego de Carreras</td>
                                    <td><span class="badge bg-danger">2</span></td>
                                    <td>
                                        <button class="btn btn-warning btn-sm">
                                            <i class="fas fa-sync"></i> Reabastecer
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Juego de Estrategia</td>
                                    <td><span class="badge bg-danger">1</span></td>
                                    <td>
                                        <button class="btn btn-warning btn-sm">
                                            <i class="fas fa-sync"></i> Reabastecer
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <section sec:authorize="hasRole('USER')" class="container my-5">
                <div class="text-center mb-4">
                    <h2 class="display-4 text-primary">Explora nuestro catálogo</h2>
                    <p class="lead text-muted">Encuentra los mejores videojuegos para todas las plataformas y disfruta de nuestras ofertas exclusivas.</p>
                </div>

                <!-- Video y mensaje principal -->
                <div class="row align-items-center mb-5">
                    <div class="col-md-6">
                        <h1 class="text-success">Descubre un mundo de aventuras</h1>
                        <p class="text-muted">Compra los mejores videojuegos y aprovecha nuestras ofertas exclusivas. ¡Gracias por ser parte de nuestra comunidad!</p>
                    </div>
                    <div class="col-md-6 text-center">
                        <div class="embed-responsive embed-responsive-16by9">
                            <iframe class="embed-responsive-item rounded shadow" 
                                    width="560" height="315" 
                                    src="https://www.youtube.com/embed/2KROCZ1q4OE" 
                                    title="YouTube video player" frameborder="0" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <!-- Ofertas exclusivas -->
                <div class="row">
                    <div class="col-md-12">
                        <h2 class="text-center text-warning mb-4">Ofertas exclusivas para ti</h2>
                    </div>

                    <!-- Tarjetas de ofertas -->
                    <div class="col-md-4">
                        <div class="card border-primary shadow-sm">
                            <div class="card-body text-center">
                                <h5 class="card-title text-primary">20% de Descuento</h5>
                                <p class="card-text text-muted">En tu próxima compra, aprovecha esta oportunidad única.</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="card border-success shadow-sm">
                            <div class="card-body text-center">
                                <h5 class="card-title text-success">Envío Gratuito</h5>
                                <p class="card-text text-muted">Para pedidos mayores a 50 mil, tus juegos favoritos llegarán a tu puerta sin costo.</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="card border-warning shadow-sm">
                            <div class="card-body text-center">
                                <h5 class="card-title text-warning">Acceso Anticipado</h5>
                                <p class="card-text text-muted">Sé el primero en acceder a preventas y eventos exclusivos.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <footer th:replace="~{layout/plantilla :: footer}"/>
    </body>
</html>

